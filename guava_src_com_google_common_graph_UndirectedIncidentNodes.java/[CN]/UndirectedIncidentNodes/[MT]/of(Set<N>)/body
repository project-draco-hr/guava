{
  Iterator<N> nodesIterator=nodes.iterator();
switch (nodes.size()) {
case 1:
    return new OneNode<N>(nodesIterator.next());
case 2:
  return new TwoNodes<N>(nodesIterator.next(),nodesIterator.next());
default :
throw new IllegalArgumentException("An edge in an undirected graph cannot be incident to " + nodes.size() + " nodes: "+ nodes);
}
}
