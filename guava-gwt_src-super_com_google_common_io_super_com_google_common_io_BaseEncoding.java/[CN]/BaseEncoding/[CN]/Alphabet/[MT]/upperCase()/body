{
  Alphabet result=upperCase;
  if (result == null) {
    if (!hasLowerCase()) {
      result=upperCase=this;
    }
 else {
      checkState(!hasUpperCase(),"Cannot call upperCase() on a mixed-case alphabet");
      char[] upperCased=new char[chars.length];
      for (int i=0; i < chars.length; i++) {
        upperCased[i]=Ascii.toUpperCase(chars[i]);
      }
      result=upperCase=new Alphabet(name + ".upperCase()",upperCased);
      result.lowerCase=this;
    }
  }
  return result;
}
