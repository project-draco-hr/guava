{
  chars=padding().trimTrailingFrom(chars);
  ByteInput decodedInput=decodingStream(asCharInput(chars));
  byte[] tmp=new byte[maxDecodedSize(chars.length())];
  int index=0;
  try {
    for (int i=decodedInput.read(); i != -1; i=decodedInput.read()) {
      tmp[index++]=(byte)i;
    }
  }
 catch (  IOException badInput) {
    throw new IllegalArgumentException(badInput);
  }
  return extract(tmp,index);
}
