{
  FileNotFoundException fnfe=new FileNotFoundException();
  IllegalArgumentException iae=new IllegalArgumentException(fnfe);
  RuntimeException re=new RuntimeException(iae);
  IllegalStateException ex=new IllegalStateException(re);
  assertEquals(asList(ex,re,iae,fnfe),Throwables.getCausalChain(ex));
  assertSame(fnfe,Iterables.getOnlyElement(Throwables.getCausalChain(fnfe)));
  try {
    Throwables.getCausalChain(null);
    fail("Should have throw NPE");
  }
 catch (  NullPointerException expected) {
  }
  List<Throwable> causes=Throwables.getCausalChain(ex);
  try {
    causes.add(new RuntimeException());
    fail("List should be unmodifiable");
  }
 catch (  UnsupportedOperationException expected) {
  }
}
