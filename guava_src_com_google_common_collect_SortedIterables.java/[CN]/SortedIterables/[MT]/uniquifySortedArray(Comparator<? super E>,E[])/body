{
  if (array.length == 0) {
    return Collections.emptySet();
  }
  int length=1;
  for (int i=1; i < array.length; i++) {
    int cmp=comparator.compare(array[i],array[length - 1]);
    if (cmp != 0) {
      array[length++]=array[i];
    }
  }
  if (length < array.length) {
    array=ObjectArrays.arraysCopyOf(array,length);
  }
  return Arrays.asList(array);
}
