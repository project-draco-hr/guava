{
  for (  Cache<Object,Object> cache : caches()) {
    Collection<Object> values=cache.asMap().values();
    List<Entry<Object,Object>> warmed=warmUp(cache);
    Object[] expectedArray=Maps.newHashMap(cache.asMap()).values().toArray(new Object[0]);
    ASSERT.that(values).hasContentsAnyOrder(expectedArray);
    ASSERT.that(asList(values.toArray())).hasContentsAnyOrder(expectedArray);
    ASSERT.that(asList(values.toArray(new Object[(int)cache.size()]))).hasContentsAnyOrder(expectedArray);
    assertEquals(WARMUP_SIZE,values.size());
    for (int i=WARMUP_MIN; i < WARMUP_MAX; i++) {
      Object value=warmed.get(i - WARMUP_MIN).getValue();
      assertTrue(values.contains(value));
      assertTrue(values.remove(value));
      assertFalse(values.remove(value));
      assertFalse(values.contains(value));
    }
    checkEmpty(values);
    checkEmpty(cache);
  }
}
