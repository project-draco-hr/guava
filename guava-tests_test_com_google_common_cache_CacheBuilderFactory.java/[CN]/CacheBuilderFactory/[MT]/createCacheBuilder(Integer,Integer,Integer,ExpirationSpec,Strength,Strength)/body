{
  CacheBuilder<Object,Object> builder=CacheBuilder.newBuilder();
  if (concurrencyLevel != null) {
    builder.concurrencyLevel(concurrencyLevel);
  }
  if (initialCapacity != null) {
    builder.initialCapacity(initialCapacity);
  }
  if (maximumSize != null) {
    builder.maximumSize(maximumSize);
  }
  if (expiration != null) {
    if (expiration.expireAfterAccessMillis != null) {
      builder.expireAfterAccess(expiration.expireAfterAccessMillis,TimeUnit.MILLISECONDS);
    }
    if (expiration.expireAfterWriteMillis != null) {
      builder.expireAfterWrite(expiration.expireAfterWriteMillis,TimeUnit.MILLISECONDS);
    }
  }
  if (keyStrength != null) {
    builder.setKeyStrength(keyStrength);
  }
  if (valueStrength != null) {
    builder.setValueStrength(valueStrength);
  }
  return builder;
}
