{
  if (!RUNNER.compareAndSet(this,null,Thread.currentThread())) {
    return;
  }
  try {
    Callable<V> localTask=task;
    if (!isDone()) {
      doRun(localTask);
    }
  }
 catch (  Throwable t) {
    setException(t);
  }
 finally {
    task=null;
    runner=null;
    if (wasInterrupted()) {
      while (!doneInterrupting) {
        Thread.yield();
      }
    }
  }
}
