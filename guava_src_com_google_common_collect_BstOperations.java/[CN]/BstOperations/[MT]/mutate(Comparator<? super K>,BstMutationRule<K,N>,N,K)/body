{
  checkNotNull(comparator);
  checkNotNull(mutationRule);
  if (tree != null) {
    int cmp=comparator.compare(key,tree.getKey());
    if (cmp != 0) {
      BstSide side=(cmp < 0) ? LEFT : RIGHT;
      BstMutationResult<K,N> mutation=mutate(comparator,mutationRule,tree.childOrNull(side),key);
      return mutation.lift(tree,side,mutationRule.getNodeFactory(),mutationRule.getBalancePolicy());
    }
  }
  return modify(tree,key,mutationRule);
}
