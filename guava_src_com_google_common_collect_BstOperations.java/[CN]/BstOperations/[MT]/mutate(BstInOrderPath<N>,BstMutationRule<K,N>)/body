{
  checkNotNull(path);
  checkNotNull(mutationRule);
  BstBalancePolicy<N> balancePolicy=mutationRule.getBalancePolicy();
  BstNodeFactory<N> nodeFactory=mutationRule.getNodeFactory();
  N target=path.getTip();
  K key=target.getKey();
  BstMutationResult<K,N> result=modify(target,key,mutationRule);
  while (path.hasPrefix()) {
    BstInOrderPath<N> prefix=path.getPrefix();
    result=result.lift(prefix.getTip(),path.getSideOfExtension(),nodeFactory,balancePolicy);
    path=prefix;
  }
  return result;
}
