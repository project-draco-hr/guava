{
  if (unfiltered instanceof SortedMap) {
    return filterValues((SortedMap<K,V>)unfiltered,valuePredicate);
  }
  checkNotNull(valuePredicate);
  Predicate<Entry<K,V>> entryPredicate=new Predicate<Entry<K,V>>(){
    @Override public boolean apply(    Entry<K,V> input){
      return valuePredicate.apply(input.getValue());
    }
  }
;
  return filterEntries(unfiltered,entryPredicate);
}
