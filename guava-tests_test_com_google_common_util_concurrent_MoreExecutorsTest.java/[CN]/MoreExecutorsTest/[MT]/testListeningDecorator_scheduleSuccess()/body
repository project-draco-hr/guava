{
  ScheduledThreadPoolExecutor delegate=new ScheduledThreadPoolExecutor(1);
  ListeningScheduledExecutorService service=listeningDecorator(delegate);
  ListenableFuture<?> future=service.schedule(Callables.returning(null),1,TimeUnit.MILLISECONDS);
  future.get();
  assertTrue(future.isDone());
  assertListenerRunImmediately(future);
  assertEquals(0,delegate.getQueue().size());
}
