{
  Multimap<String,Integer> multimap=LinkedListMultimap.create();
  Multimap<String,Integer> constrained=MapConstraints.constrainedMultimap(multimap,TEST_CONSTRAINT);
  multimap.put("foo",1);
  @SuppressWarnings("unchecked") Collection<Integer> collection=(Collection<Integer>)constrained.asMap().values().toArray()[0];
  try {
    collection.add(TEST_VALUE);
    fail("TestValueException expected");
  }
 catch (  TestValueException expected) {
  }
  assertFalse(multimap.containsValue(TEST_VALUE));
}
