{
  Set<E> incidentEdgesN1=incidentEdges(node1);
  if (node1.equals(node2)) {
    if (!config.isSelfLoopsAllowed()) {
      return ImmutableSet.of();
    }
    return ImmutableSet.copyOf(Iterables.filter(incidentEdgesN1,Graphs.selfLoopPredicate(this)));
  }
  Set<E> incidentEdgesN2=incidentEdges(node2);
  return (incidentEdgesN1.size() <= incidentEdgesN2.size()) ? Sets.intersection(incidentEdgesN1,incidentEdgesN2).immutableCopy() : Sets.intersection(incidentEdgesN2,incidentEdgesN1).immutableCopy();
}
