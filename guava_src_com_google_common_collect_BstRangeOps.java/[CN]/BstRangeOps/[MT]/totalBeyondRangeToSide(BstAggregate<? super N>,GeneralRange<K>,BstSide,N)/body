{
  int accum=0;
  while (root != null) {
    if (beyond(range,root.getKey(),side)) {
      accum+=aggregate.entryValue(root);
      accum+=aggregate.treeValue(root.childOrNull(side));
      root=root.childOrNull(side.other());
    }
 else {
      root=root.childOrNull(side);
    }
  }
  return accum;
}
