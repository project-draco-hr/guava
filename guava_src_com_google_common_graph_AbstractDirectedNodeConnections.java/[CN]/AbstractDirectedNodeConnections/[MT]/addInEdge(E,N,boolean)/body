{
  checkNotNull(edge,"edge");
  checkNotNull(node,"node");
  if (isSelfLoop) {
    selfLoopCount++;
    checkState(selfLoopCount >= 1);
  }
  N previousNode=inEdgeMap.put(edge,node);
  if (previousNode != null) {
    checkState(node.equals(previousNode));
    return false;
  }
  return true;
}
