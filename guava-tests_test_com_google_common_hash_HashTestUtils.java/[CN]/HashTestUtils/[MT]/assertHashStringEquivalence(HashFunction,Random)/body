{
  int size=random.nextInt(2048);
  byte[] bytes=new byte[size];
  random.nextBytes(bytes);
  String string=new String(bytes);
  assertEquals(hashFunction.hashString(string),hashFunction.newHasher().putString(string).hash());
  assertEquals(hashFunction.hashString(string),hashFunction.hashString(string,Charsets.UTF_16LE));
  assertEquals(hashFunction.hashString(string),hashFunction.newHasher().putString(string,Charsets.UTF_16LE).hash());
  for (  Charset charset : CHARSETS) {
    assertEquals(hashFunction.hashString(string,charset),hashFunction.newHasher().putString(string,charset).hash());
  }
}
