{
  InputSupplier<InputStream> supplier=newByteSupplier(0,10);
  @SuppressWarnings("unchecked") InputSupplier<InputStream> joined=ByteStreams.join(supplier,supplier);
  assertEquals(20,ByteStreams.length(joined));
  InputStream in=joined.getInput();
  assertFalse(in.markSupported());
  assertEquals(10,in.available());
  int total=0;
  while (in.read() != -1) {
    total++;
  }
  assertEquals(0,in.available());
  assertEquals(20,total);
}
