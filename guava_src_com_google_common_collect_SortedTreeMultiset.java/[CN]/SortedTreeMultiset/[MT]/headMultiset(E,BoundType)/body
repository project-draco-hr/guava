{
  checkNotNull(upperBound);
  return new SortedTreeMultiset<E>(range.intersect(GeneralRange.upTo(comparator,upperBound,boundType)),rootReference);
}
