{
  if (iterable instanceof Collection) {
    Collection<? extends T> c=Collections2.cast(iterable);
    if (c.isEmpty()) {
      return defaultValue;
    }
 else     if (iterable instanceof List) {
      List<? extends T> list=Lists.cast(iterable);
      return getLastInNonemptyList(list);
    }
  }
  return Iterators.getLast(iterable.iterator(),defaultValue);
}
