{
  if (iterable instanceof Collection) {
    Collection<? extends T> collection=Collections2.cast(iterable);
    if (collection.isEmpty()) {
      return defaultValue;
    }
  }
  if (iterable instanceof List) {
    List<? extends T> list=Lists.cast(iterable);
    return getLastInNonemptyList(list);
  }
  if (iterable instanceof SortedSet) {
    SortedSet<? extends T> sortedSet=Sets.cast(iterable);
    return sortedSet.last();
  }
  return Iterators.getLast(iterable.iterator(),defaultValue);
}
