{
  Iterator<List<Integer>> permutations=Collections2.permutations(newArrayList(1,2,3,4)).iterator();
  assertNextPermutation(newArrayList(1,2,3,4),permutations);
  assertNextPermutation(newArrayList(1,2,4,3),permutations);
  assertNextPermutation(newArrayList(1,4,2,3),permutations);
  assertNextPermutation(newArrayList(4,1,2,3),permutations);
  assertNextPermutation(newArrayList(4,1,3,2),permutations);
  assertNextPermutation(newArrayList(1,4,3,2),permutations);
  assertNextPermutation(newArrayList(1,3,4,2),permutations);
  assertNextPermutation(newArrayList(1,3,2,4),permutations);
  assertNextPermutation(newArrayList(3,1,2,4),permutations);
  assertNextPermutation(newArrayList(3,1,4,2),permutations);
  assertNextPermutation(newArrayList(3,4,1,2),permutations);
  assertNextPermutation(newArrayList(4,3,1,2),permutations);
  assertNextPermutation(newArrayList(4,3,2,1),permutations);
  assertNextPermutation(newArrayList(3,4,2,1),permutations);
  assertNextPermutation(newArrayList(3,2,4,1),permutations);
  assertNextPermutation(newArrayList(3,2,1,4),permutations);
  assertNextPermutation(newArrayList(2,3,1,4),permutations);
  assertNextPermutation(newArrayList(2,3,4,1),permutations);
  assertNextPermutation(newArrayList(2,4,3,1),permutations);
  assertNextPermutation(newArrayList(4,2,3,1),permutations);
  assertNextPermutation(newArrayList(4,2,1,3),permutations);
  assertNextPermutation(newArrayList(2,4,1,3),permutations);
  assertNextPermutation(newArrayList(2,1,4,3),permutations);
  assertNextPermutation(newArrayList(2,1,3,4),permutations);
  assertNoMorePermutations(permutations);
}
