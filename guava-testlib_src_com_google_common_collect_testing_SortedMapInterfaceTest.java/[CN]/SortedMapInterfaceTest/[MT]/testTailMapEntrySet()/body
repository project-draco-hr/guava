{
  final SortedMap<K,V> map;
  try {
    map=makePopulatedMap();
  }
 catch (  UnsupportedOperationException e) {
    return;
  }
  if (map.size() < 3) {
    return;
  }
  Iterator<Entry<K,V>> iterator=map.entrySet().iterator();
  Entry<K,V> firstEntry=iterator.next();
  Entry<K,V> secondEntry=iterator.next();
  Entry<K,V> thirdEntry=iterator.next();
  SortedMap<K,V> tail=map.tailMap(secondEntry.getKey());
  Set<Entry<K,V>> tailEntrySet=tail.entrySet();
  assertTrue(tailEntrySet.contains(thirdEntry));
  assertTrue(tailEntrySet.contains(secondEntry));
  assertFalse(tailEntrySet.contains(firstEntry));
  assertEquals(tail.firstKey(),secondEntry.getKey());
}
