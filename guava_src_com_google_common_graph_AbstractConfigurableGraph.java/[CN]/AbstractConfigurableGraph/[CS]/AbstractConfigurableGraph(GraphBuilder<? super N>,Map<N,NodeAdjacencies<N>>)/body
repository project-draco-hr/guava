{
  this.isDirected=builder.directed;
  this.allowsSelfLoops=builder.allowsSelfLoops;
  this.nodeOrder=builder.nodeOrder;
  this.nodeConnections=(nodeConnections instanceof TreeMap) ? new MapRetrievalCache<N,NodeAdjacencies<N>>(nodeConnections) : new MapIteratorCache<N,NodeAdjacencies<N>>(nodeConnections);
}
