{
  Comparator<? super E> comparator=comparator();
  return (comparator == null) ? ((Comparable)o1).compareTo(o2) : ((Comparator)comparator).compare(o1,o2);
}
