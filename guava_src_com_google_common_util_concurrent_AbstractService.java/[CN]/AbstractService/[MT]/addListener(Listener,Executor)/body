{
  checkNotNull(listener,"listener");
  checkNotNull(executor,"executor");
  lock.lock();
  if (state == State.TERMINATED || state == State.FAILED) {
    return;
  }
  try {
    listeners.add(new ListenerExecutorPair(listener,executor));
  }
  finally {
    lock.unlock();
  }
}
