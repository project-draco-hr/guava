{
  assertFalse(encoding.canDecode(cannotDecode));
  try {
    byte[] unused=encoding.decode(cannotDecode);
    fail("Expected IllegalArgumentException");
  }
 catch (  IllegalArgumentException expected) {
    if (expectedMessage != null) {
      assertThat(expected.getCause()).hasMessage(expectedMessage);
    }
  }
  try {
    byte[] unused=encoding.decodeChecked(cannotDecode);
    fail("Expected DecodingException");
  }
 catch (  DecodingException expected) {
    if (expectedMessage != null) {
      assertThat(expected).hasMessage(expectedMessage);
    }
  }
}
