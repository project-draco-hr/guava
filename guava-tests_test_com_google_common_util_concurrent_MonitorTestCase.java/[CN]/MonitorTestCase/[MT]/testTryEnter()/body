{
  thread1.callAndAssertReturns(true,tryEnter());
  thread2.callAndAssertReturns(false,tryEnter());
  thread1.callAndAssertReturns(true,tryEnter());
  thread2.callAndAssertReturns(false,tryEnter());
  thread1.callAndAssertReturns(leave());
  thread2.callAndAssertReturns(false,tryEnter());
  thread1.callAndAssertReturns(leave());
  thread2.callAndAssertReturns(true,tryEnter());
}
