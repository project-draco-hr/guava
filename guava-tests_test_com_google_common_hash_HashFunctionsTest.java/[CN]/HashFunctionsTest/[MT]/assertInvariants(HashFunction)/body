{
  int objects=100;
  Set<HashCode> hashcodes=Sets.newHashSetWithExpectedSize(objects);
  for (int i=0; i < objects; i++) {
    Object o=new Object();
    HashCode hashcode1=hashFunction.newHasher().putObject(o,HashTestUtils.BAD_FUNNEL).hash();
    HashCode hashcode2=hashFunction.newHasher().putObject(o,HashTestUtils.BAD_FUNNEL).hash();
    assertEquals(hashcode1,hashcode2);
    assertEquals(hashFunction.bits(),hashcode1.bits());
    assertEquals(hashFunction.bits(),hashcode1.asBytes().length * 8);
    hashcodes.add(hashcode1);
  }
  assertTrue(hashcodes.size() > objects * 0.95);
  assertHashBytesThrowsCorrectExceptions(hashFunction);
  assertIndependentHashers(hashFunction);
}
