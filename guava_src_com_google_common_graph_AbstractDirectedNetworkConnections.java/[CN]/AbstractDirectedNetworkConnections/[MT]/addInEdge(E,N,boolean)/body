{
  if (isSelfLoop) {
    checkPositive(++selfLoopCount);
  }
  N previousNode=inEdgeMap.put(edge,node);
  checkState(previousNode == null);
}
