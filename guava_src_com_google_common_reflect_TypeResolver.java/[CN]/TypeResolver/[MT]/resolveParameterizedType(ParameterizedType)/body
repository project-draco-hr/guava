{
  Type owner=type.getOwnerType();
  Type resolvedOwner=(owner == null) ? null : resolve(owner);
  Type resolvedRawType=resolve(type.getRawType());
  Type[] vars=type.getActualTypeArguments();
  Type[] resolvedArgs=new Type[vars.length];
  for (int i=0; i < vars.length; i++) {
    resolvedArgs[i]=resolve(vars[i]);
  }
  return Types.newParameterizedTypeWithOwner(resolvedOwner,(Class<?>)resolvedRawType,resolvedArgs);
}
