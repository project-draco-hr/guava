{
  DirectedGraph<Integer,String> graph=Graphs.createDirected(immutableGraph.config());
  populateInputGraph(graph);
  builder.addEdge(E21,N3,N1);
  try {
    builder.addGraph(graph);
    fail("Should have rejected a graph whose edge definitions were inconsistent with existing" + "builder state");
  }
 catch (  IllegalArgumentException expected) {
  }
}
