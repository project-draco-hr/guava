{
  DirectedGraph<N,E> directedGraph=builder.directedGraph;
  ImmutableMap.Builder<N,DirectedIncidentEdges<E>> nodeToIncidentEdgesBuilder=ImmutableMap.builder();
  for (  N node : directedGraph.nodes()) {
    DirectedIncidentEdges<E> incidentEdges=DirectedIncidentEdges.ofImmutable(directedGraph.inEdges(node),directedGraph.outEdges(node));
    nodeToIncidentEdgesBuilder.put(node,incidentEdges);
  }
  nodeToIncidentEdges=nodeToIncidentEdgesBuilder.build();
  ImmutableMap.Builder<E,DirectedIncidentNodes<N>> edgeToIncidentNodesBuilder=ImmutableMap.builder();
  for (  E edge : directedGraph.edges()) {
    DirectedIncidentNodes<N> incidentNodes=DirectedIncidentNodes.of(directedGraph.source(edge),directedGraph.target(edge));
    edgeToIncidentNodesBuilder.put(edge,incidentNodes);
  }
  edgeToIncidentNodes=edgeToIncidentNodesBuilder.build();
  this.config=directedGraph.config();
}
