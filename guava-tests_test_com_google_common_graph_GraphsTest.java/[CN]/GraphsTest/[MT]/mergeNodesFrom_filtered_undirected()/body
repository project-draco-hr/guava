{
  UndirectedGraph<Integer,String> undirectedGraph=buildUndirectedTestGraph();
  undirectedGraph.addNode(N3);
  Predicate<Integer> nodePredicate=connectedNodePredicate(undirectedGraph);
  UndirectedGraph<Integer,String> actualGraph=Graphs.createUndirected();
  actualGraph.addNode(N4);
  actualGraph.addNode(N2);
  mergeNodesFrom(undirectedGraph,actualGraph,nodePredicate);
  UndirectedGraph<Integer,String> expectedGraph=Graphs.createUndirected();
  expectedGraph.addNode(N1);
  expectedGraph.addNode(N2);
  expectedGraph.addNode(N4);
  assertThat(actualGraph).isEqualTo(expectedGraph);
}
