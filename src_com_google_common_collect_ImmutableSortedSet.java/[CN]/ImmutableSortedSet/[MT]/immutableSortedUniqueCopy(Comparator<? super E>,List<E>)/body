{
  if (list.isEmpty()) {
    return ImmutableList.of();
  }
  Collections.sort(list,comparator);
  int size=1;
  for (int i=1; i < list.size(); i++) {
    E elem=list.get(i);
    if (comparator.compare(elem,list.get(size - 1)) != 0) {
      list.set(size++,elem);
    }
  }
  return ImmutableList.copyOf(list.subList(0,size));
}
