{
  checkNotNull(checksum);
  return readBytes(supplier,new ByteProcessor<Long>(){
    @Override public boolean processBytes(    byte[] buf,    int off,    int len){
      checksum.update(buf,off,len);
      return true;
    }
    @Override public Long getResult(){
      long result=checksum.getValue();
      checksum.reset();
      return result;
    }
  }
);
}
