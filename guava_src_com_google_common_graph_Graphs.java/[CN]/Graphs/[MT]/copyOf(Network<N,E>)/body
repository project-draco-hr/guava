{
  checkNotNull(graph,"graph");
  MutableNetwork<N,E> copy=NetworkBuilder.from(graph).expectedNodeCount(graph.nodes().size()).expectedEdgeCount(graph.edges().size()).build();
  for (  N node : graph.nodes()) {
    checkState(copy.addNode(node));
  }
  for (  E edge : graph.edges()) {
    Endpoints<N> endpoints=graph.incidentNodes(edge);
    checkState(copy.addEdgeV2(endpoints.nodeA(),endpoints.nodeB(),edge));
  }
  return copy;
}
