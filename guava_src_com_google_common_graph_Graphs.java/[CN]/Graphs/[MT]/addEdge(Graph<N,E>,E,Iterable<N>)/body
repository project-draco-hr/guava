{
  checkNotNull(graph,"graph");
  checkNotNull(edge,"edge");
  checkNotNull(nodes,"nodes");
  if (graph instanceof Hypergraph) {
    return ((Hypergraph<N,E>)graph).addEdge(edge,nodes);
  }
  Iterator<N> nodesIterator=nodes.iterator();
  checkArgument(nodesIterator.hasNext(),"'graph' is not a Hypergraph, and 'nodes' has < 1 elements: %s",nodes);
  N node1=nodesIterator.next();
  N node2=nodesIterator.hasNext() ? nodesIterator.next() : node1;
  checkArgument(!nodesIterator.hasNext(),"'graph' is not a Hypergraph, and 'nodes' has > 2 elements: %s",nodes);
  return graph.addEdge(edge,node1,node2);
}
