{
  long filter=0;
  int size=chars.length;
  boolean containsZero=false;
  boolean reprobe=false;
  containsZero=chars[0] == 0;
  for (  char c : chars) {
    filter|=1L << c;
  }
  char[] table=null;
  for (int i=size; i < MAX_TABLE_SIZE; i++) {
    table=buildTable(i,chars,false);
    if (table != null) {
      break;
    }
  }
  if (table == null) {
    table=buildTable(MAX_TABLE_SIZE,chars,true);
    reprobe=true;
  }
  return new SmallCharMatcher(table,filter,containsZero,reprobe);
}
