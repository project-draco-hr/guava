{
  Map<String,Integer> map=Maps.newHashMap();
  map.put("One",1);
  map.put("Three",3);
  Function<String,Integer> function=Functions.forMap(map,42);
  assertEquals(1,function.apply("One").intValue());
  assertEquals(42,function.apply("Two").intValue());
  assertEquals(3,function.apply("Three").intValue());
  new EqualsTester(function).addEqualObject(Functions.forMap(map,42)).addEqualObject(SerializableTester.reserialize(function)).addNotEqualObject(Functions.forMap(map)).addNotEqualObject(Functions.forMap(map,null)).addNotEqualObject(Functions.forMap(map,43)).testEquals();
}
