{
  long filter=0;
  int size=chars.length;
  boolean containsZero=(chars[0] == 0);
  for (  char c : chars) {
    filter|=1L << c;
  }
  char[] table=new char[chooseTableSize(size)];
  int mask=table.length - 1;
  for (  char c : chars) {
    int index=c & mask;
    while (true) {
      if (table[index] == 0) {
        table[index]=c;
        break;
      }
      index=(index + 1) & mask;
    }
  }
  return new MediumCharMatcher(table,filter,containsZero,description);
}
