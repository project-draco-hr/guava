{
  checkNonNegative("a",a);
  checkNonNegative("b",b);
  if (a == 0 | b == 0) {
    return a | b;
  }
  int aTwos=Long.numberOfTrailingZeros(a);
  a>>=aTwos;
  int bTwos=Long.numberOfTrailingZeros(b);
  b>>=bTwos;
  while (a != b) {
    if (a < b) {
      long t=b;
      b=a;
      a=t;
    }
    a-=b;
    a>>=Long.numberOfTrailingZeros(a);
  }
  return a << min(aTwos,bTwos);
}
