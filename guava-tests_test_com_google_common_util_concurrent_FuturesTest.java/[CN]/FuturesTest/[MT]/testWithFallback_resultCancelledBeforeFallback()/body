{
  SettableFuture<Integer> primary=SettableFuture.create();
  FutureFallback<Integer> fallback=mocksControl.createMock(FutureFallback.class);
  mocksControl.replay();
  ListenableFuture<Integer> derived=Futures.withFallback(primary,fallback);
  derived.cancel(false);
  assertTrue(primary.isCancelled());
  assertFalse(primary.wasInterrupted());
  mocksControl.verify();
}
