{
  SettableFuture<Foo> input=SettableFuture.create();
  AsyncFunction<Foo,Bar> function=new AsyncFunction<Foo,Bar>(){
    @Override public ListenableFuture<Bar> apply(    Foo unused){
      fail("Unexpeted call to apply.");
      return null;
    }
  }
;
  assertTrue(Futures.transform(input,function).cancel(true));
  assertTrue(input.isCancelled());
  assertTrue(input.wasInterrupted());
}
