{
  ListenableFuture<FooChild> future=Futures.immediateFuture(null);
  final BarChild barChild=new BarChild();
  Function<Foo,AbstractFuture<BarChild>> function=new Function<Foo,AbstractFuture<BarChild>>(){
    @Override public AbstractFuture<BarChild> apply(    Foo unused){
      AbstractFuture<BarChild> future=new AbstractFuture<BarChild>(){
      }
;
      future.set(barChild);
      return future;
    }
  }
;
  Bar bar=Futures.chain(future,function).get();
  assertSame(barChild,bar);
}
