{
  Object value=new Object();
  ExecutorSpy spy=new ExecutorSpy(MoreExecutors.sameThreadExecutor());
  assertFalse(spy.wasExecuted);
  ListenableFuture<Object> future=Futures.transform(Futures.immediateFuture(value),Functions.identity(),spy);
  assertSame(value,future.get());
  assertTrue(spy.wasExecuted);
}
