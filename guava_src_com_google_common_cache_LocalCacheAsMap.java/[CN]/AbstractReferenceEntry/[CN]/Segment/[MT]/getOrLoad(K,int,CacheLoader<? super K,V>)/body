{
  try {
    if (count != 0) {
      ReferenceEntry<K,V> e=getEntry(key,hash);
      if (e != null) {
        long now=map.ticker.read();
        V value=getLiveValue(e,now);
        if (value != null) {
          recordRead(e,now);
          statsCounter.recordHit();
          return value;
        }
        ValueReference<K,V> valueReference=e.getValueReference();
        if (valueReference.isLoading()) {
          return waitForLoadingValue(e,valueReference);
        }
      }
    }
    return lockedGetOrLoad(key,hash,loader);
  }
  finally {
    postReadCleanup();
  }
}
