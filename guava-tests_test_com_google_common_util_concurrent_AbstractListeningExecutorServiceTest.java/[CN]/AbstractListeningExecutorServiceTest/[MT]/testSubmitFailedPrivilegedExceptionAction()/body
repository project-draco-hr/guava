{
  Runnable r=new CheckedRunnable(){
    @Override public void realRun() throws Exception {
      ExecutorService e=new DirectExecutorService();
      Future future=e.submit(Executors.callable(new PrivilegedExceptionAction(){
        public Object run() throws Exception {
          throw new IndexOutOfBoundsException();
        }
      }
));
      try {
        future.get();
        shouldThrow();
      }
 catch (      ExecutionException success) {
        assertTrue(success.getCause() instanceof IndexOutOfBoundsException);
      }
    }
  }
;
  runWithPermissions(r);
}
