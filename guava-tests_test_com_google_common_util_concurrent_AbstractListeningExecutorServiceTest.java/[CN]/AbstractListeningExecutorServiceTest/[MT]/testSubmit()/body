{
  TestListeningExecutorService e=new TestListeningExecutorService();
  TestRunnable runnable=new TestRunnable();
  ListenableFuture<?> runnableFuture=e.submit(runnable);
  assertTrue(runnableFuture instanceof ListenableFutureTask);
  assertTrue(runnableFuture.isDone());
  assertTrue(runnable.run);
  ListenableFuture<String> callableFuture=e.submit(new TestCallable());
  assertTrue(callableFuture instanceof ListenableFutureTask);
  assertTrue(callableFuture.isDone());
  assertEquals("foo",callableFuture.get());
  TestRunnable runnable2=new TestRunnable();
  ListenableFuture<Integer> runnableFuture2=e.submit(runnable2,3);
  assertTrue(runnableFuture2 instanceof ListenableFutureTask);
  assertTrue(runnableFuture2.isDone());
  assertTrue(runnable2.run);
  assertEquals((Integer)3,runnableFuture2.get());
}
