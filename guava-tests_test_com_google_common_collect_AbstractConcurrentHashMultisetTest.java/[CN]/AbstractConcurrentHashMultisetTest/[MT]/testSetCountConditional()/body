{
  ConcurrentHashMultiset<String> cms=ConcurrentHashMultiset.create();
  cms.add("a",2);
  cms.add("b",3);
  try {
    cms.setCount("a",-1,1);
    fail();
  }
 catch (  IllegalArgumentException expected) {
  }
  try {
    cms.setCount("a",1,-1);
    fail();
  }
 catch (  IllegalArgumentException expected) {
  }
  assertEquals(2,cms.count("a"));
  assertTrue(cms.setCount("c",0,0));
  assertEquals(0,cms.count("c"));
  assertFalse(cms.setCount("c",1,0));
  assertEquals(0,cms.count("c"));
  assertFalse(cms.setCount("a",0,0));
  assertEquals(2,cms.count("a"));
  assertFalse(cms.setCount("a",1,0));
  assertEquals(2,cms.count("a"));
  assertTrue(cms.setCount("a",2,0));
  assertEquals(0,cms.count("a"));
  assertTrue(cms.setCount("d",0,4));
  assertEquals(4,cms.count("d"));
  assertFalse(cms.setCount("b",0,5));
  assertEquals(3,cms.count("b"));
  assertFalse(cms.setCount("b",1,5));
  assertEquals(3,cms.count("b"));
  assertTrue(cms.setCount("b",3,5));
  assertEquals(5,cms.count("b"));
}
