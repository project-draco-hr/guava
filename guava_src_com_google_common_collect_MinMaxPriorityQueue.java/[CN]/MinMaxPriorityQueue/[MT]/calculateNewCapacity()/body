{
  int oldCapacity=queue.length;
  int newCapacity=(oldCapacity < 64) ? (oldCapacity + 1) * 2 : (oldCapacity / 2) * 3;
  if (newCapacity < 0) {
    newCapacity=Integer.MAX_VALUE;
  }
  return capAtMaximumSize(newCapacity,maximumSize);
}
