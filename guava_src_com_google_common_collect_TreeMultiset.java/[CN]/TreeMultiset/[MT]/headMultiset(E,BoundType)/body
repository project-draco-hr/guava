{
  checkNotNull(upperBound);
  return new TreeMultiset<E>(range.intersect(GeneralRange.upTo(comparator,upperBound,boundType)),rootReference);
}
