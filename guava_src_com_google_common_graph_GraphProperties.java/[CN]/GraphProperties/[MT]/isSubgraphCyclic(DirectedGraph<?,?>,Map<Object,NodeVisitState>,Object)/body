{
  nodeToVisitState.put(node,NodeVisitState.PENDING);
  for (  Object successor : graph.successors(node)) {
    NodeVisitState nodeVisitState=nodeToVisitState.get(successor);
    if (nodeVisitState == NodeVisitState.PENDING) {
      return true;
    }
 else     if (nodeVisitState == null) {
      if (isSubgraphCyclic(graph,nodeToVisitState,successor)) {
        return true;
      }
    }
  }
  nodeToVisitState.put(node,NodeVisitState.COMPLETE);
  return false;
}
