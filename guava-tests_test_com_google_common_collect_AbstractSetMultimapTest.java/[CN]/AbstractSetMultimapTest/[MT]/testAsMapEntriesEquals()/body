{
  Multimap<String,Integer> multimap=getMultimap();
  multimap.put("foo",1);
  multimap.put("foo",3);
  Set<Map.Entry<String,Collection<Integer>>> set=multimap.asMap().entrySet();
  Iterator<Map.Entry<String,Collection<Integer>>> i=set.iterator();
  Map.Entry<String,Collection<Integer>> expected=Maps.immutableEntry("foo",(Collection<Integer>)ImmutableSet.of(1,3));
  Map.Entry<String,Collection<Integer>> entry=i.next();
  assertEquals(expected,entry);
  assertFalse(i.hasNext());
  assertTrue(Collections.singleton(expected).equals(set));
  assertTrue(set.equals(Collections.singleton(expected)));
  Map.Entry<?,?>[] array=new Map.Entry<?,?>[3];
  array[1]=Maps.immutableEntry("another","entry");
  assertSame(array,set.toArray(array));
  assertEquals(entry,array[0]);
  assertNull(array[1]);
}
