{
  return graph.isDirected() ? DirectedNodeAdjacencies.ofImmutable(graph.predecessors(node),graph.successors(node)) : UndirectedNodeAdjacencies.ofImmutable(graph.adjacentNodes(node));
}
