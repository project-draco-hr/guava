{
synchronized (state) {
    state.remaining--;
    return state.remaining;
  }
}
