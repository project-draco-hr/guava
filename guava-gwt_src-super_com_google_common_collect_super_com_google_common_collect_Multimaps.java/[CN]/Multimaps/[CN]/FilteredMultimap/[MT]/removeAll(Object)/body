{
  List<V> removed=Lists.newArrayList();
  Collection<V> values=unfiltered.asMap().get(key);
  if (values != null) {
    Iterator<V> iterator=values.iterator();
    while (iterator.hasNext()) {
      V value=iterator.next();
      if (satisfiesPredicate(key,value)) {
        removed.add(value);
        iterator.remove();
      }
    }
  }
  if (unfiltered instanceof SetMultimap) {
    return Collections.unmodifiableSet(Sets.newLinkedHashSet(removed));
  }
 else {
    return Collections.unmodifiableList(removed);
  }
}
