{
  boolean threw=true;
  R in=from.getInput();
  try {
    W out=to.getOutput();
    try {
      long count=copy(in,out);
      threw=false;
      return count;
    }
  finally {
      Closeables.close(out,threw);
    }
  }
  finally {
    Closeables.close(in,threw);
  }
}
