{
  boolean threw=true;
  R r=supplier.getInput();
  try {
    LineReader lineReader=new LineReader(r);
    String line;
    while ((line=lineReader.readLine()) != null) {
      if (!callback.processLine(line)) {
        break;
      }
    }
    threw=false;
  }
  finally {
    Closeables.close(r,threw);
  }
  return callback.getResult();
}
