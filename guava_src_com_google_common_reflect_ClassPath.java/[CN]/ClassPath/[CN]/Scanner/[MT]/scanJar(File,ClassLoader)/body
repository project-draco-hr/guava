{
  JarFile jarFile;
  try {
    jarFile=new JarFile(file);
  }
 catch (  IOException e) {
    return;
  }
  try {
    for (    File path : getClassPathFromManifest(file,jarFile.getManifest())) {
      scan(path,classloader);
    }
    String entryUrlPrefix=file.toURI().toURL() + "!/";
    Enumeration<JarEntry> entries=jarFile.entries();
    while (entries.hasMoreElements()) {
      JarEntry entry=entries.nextElement();
      if (entry.isDirectory() || entry.getName().equals(JarFile.MANIFEST_NAME)) {
        continue;
      }
      String resourceName=entry.getName();
      URL url=new URL("jar",null,entryUrlPrefix + resourceName);
      resources.get(classloader).put(resourceName,url);
    }
  }
  finally {
    try {
      jarFile.close();
    }
 catch (    IOException ignored) {
    }
  }
}
