{
  File[] files=directory.listFiles();
  if (files == null) {
    logger.warning("Cannot read directory " + directory);
    return;
  }
  for (  File f : files) {
    String name=f.getName();
    if (f.isDirectory()) {
      scanDirectory(f,classloader,packagePrefix + name + "/");
    }
 else {
      onResourceFile(classloader,packagePrefix,f);
    }
  }
}
